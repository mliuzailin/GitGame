/*==========================================================================*/
/*==========================================================================*/
/*!
	@file	AnimationClipResultEvol.cs
	@brief	アニメーションクリップ記憶再生クラス：リザルトでのユニット進化演出特化
	@author Developer
	@date 	2013/07/03
*/
/*==========================================================================*/
/*==========================================================================*/
/*==========================================================================*/
/*		Using																*/
/*==========================================================================*/
using UnityEngine;
using System;
using System.Collections;
using System.Collections.Generic;

/*==========================================================================*/
/*		namespace Begin 													*/
/*==========================================================================*/
/*==========================================================================*/
/*		define																*/
/*==========================================================================*/
/*==========================================================================*/
/*		macro																*/
/*==========================================================================*/
/*==========================================================================*/
/*		class																*/
/*==========================================================================*/
//----------------------------------------------------------------------------
/*!
	@brief	アニメーションクリップ記憶再生クラス：リザルトでのユニット進化演出特化
*/
//----------------------------------------------------------------------------
public class AnimationClipResultEvol : AnimationClipPlayer
{

    //----------------------------------------------------------------------------
    /*!
		@brief	ユニット取得アニメーションID
	*/
    //----------------------------------------------------------------------------
    public enum EVOL_ANIM
    {
        CHARA_SWITCH_AFTER,     //!< アニメーションラベル：キャラ進化
        MAX,                    //!< アニメーションラベル：
    };

    /*==========================================================================*/
    /*		var																	*/
    /*==========================================================================*/
    public AnimationClip m_CharaSwitchAfter;                //!< アニメーション実体：キャラ進化

    /*==========================================================================*/
    /*		func																*/
    /*==========================================================================*/
    //----------------------------------------------------------------------------
    /*!
		@brief	基底継承：AnimationClipPlayer：関連するアニメーションをAnimationクリップに追加する
		@note	Start関数で登録しようとすると、一度もアクティブ化されていないオブジェクトに再生処理を発行した際に破綻する。
				基底クラスのAwakeで呼び出すことで登録を保証する
	*/
    //----------------------------------------------------------------------------
    protected override void AnimationSetup()
    {
        //--------------------------------
        // 基底クラスの初期化実行
        //--------------------------------
        base.AnimationSetup();

        //--------------------------------
        // アニメーションコンポーネントに要素を追加登録
        //--------------------------------
        SetAnimationClipMax((int)EVOL_ANIM.MAX);
        SetAnimationClip((int)EVOL_ANIM.CHARA_SWITCH_AFTER, m_CharaSwitchAfter);
    }

    //----------------------------------------------------------------------------
    /*!
		@brief	アニメーション操作：アニメーションリセット
	*/
    //----------------------------------------------------------------------------
    public void ResetAnimation()
    {
        ResetAnimationClip(m_CharaSwitchAfter);
    }

    //----------------------------------------------------------------------------
    /*!
		@brief	アニメーション操作：アニメーションクリップ再生
	*/
    //----------------------------------------------------------------------------
    public bool PlayAnimation(EVOL_ANIM eAnimID)
    {
        //--------------------------------
        // 不具合チェック
        //--------------------------------
        if (eAnimID < 0
        || eAnimID >= EVOL_ANIM.MAX
        ) return false;

        //--------------------------------
        // 再生指示
        //--------------------------------
        return PlayAnimationClip((int)eAnimID, true);
    }

    //----------------------------------------------------------------------------
    /*!
		@brief	アニメーション操作：アニメーションの最終フレームを表示
	*/
    //----------------------------------------------------------------------------
    public void EndFrame()
    {
        EndFrame(m_CharaSwitchAfter);
    }
}

